<!--
 * @Description: 
 * @Author: caohaohao
 * @Date: 2021-05-06 17:36:47
 * @LastEditTime: 2021-05-18 21:26:19
 * @LastEditors: caohaohao
-->
# 实习期间我学到了什么

## 在项目中找某一个组件

1. 可以通过元素检查、通过类名全局搜索

2. devtools的自带检查工具（react）

3. 搜索文案

## 在项目中看一个组件还有没有在用

1. 直接通过查找引用查看（当涉及路由页时不太好查）

2. 全局搜索组件名，查找引用

3. 注释掉，查看报错信息

4. devtool里面查找组件名

## 良好的代码编写习惯

1. 需要对props做检查和兼容性处理，否则会出现问题（比如有时候报错chrome不直接挂掉页面但是Safari就直接挂掉页面了）

2. 尽可能依赖TS的类型推导

3. 少用自定义事件、localStorage，因为随着项目增大会变得不可控

4. 能少写state就少写，比如有三个树根只能展开一个，那么我们应该用1个变量存应该打开哪个，而不是存三个变量来修改，这样做一来可以减少内存占用，二来后期有其他相关逻辑就不好维护了

## 组件拆分的注意事项

1. 拆出来的新组件是否和原组件在同一级，如果不在，需要确认这不会影响整体逻辑

2. 拆出来的新组件是否和原组件在页面内的复用次数上有区别，如果有区别，需要确保不会有冗余的重复逻辑，解决办法可以是将哪些可能冗余重复的逻辑保留在原组件中

## 函数式组件相关注意事项

1. 尽量不要将不可变的变量在函数、函数内赋值，应该放在函数外，因为react每次渲染都会重新执行函数

2. 相同的useEffect应该汇集在一起，一来减少开销，二来如果后期代码维护，将两个useEffect相对顺序颠倒会引出bug

3. 在useEffect里进行事件监听、EventCenter.on等时，不要忘记在返回的函数中取消，因为函数是被执行多遍的，没被清楚掉的函数会闭包上层变量，内存泄漏会比较严重

## 从redux流入的数据进行清洗时，应该先克隆再清洗

    > 清洗是指对原数据进行修改后使用

## 大型项目工作流

见`项目实践经验`



